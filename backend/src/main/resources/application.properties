# Application Configuration
spring.application.name=librivault-backend

# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Database Configuration
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:librivault_db}?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&autoReconnect=true&failOverReadOnly=false&maxReconnects=10&initialTimeout=10
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:Harshini@258}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Configuration
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.pool-name=LibriVaultHikariCP

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# SQL Initialization
spring.sql.init.mode=always
spring.sql.init.continue-on-error=true
spring.jpa.defer-datasource-initialization=true


# Application Startup Configuration
spring.jpa.open-in-view=false
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# Mail Configuration
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# JWT Configuration
jwt.secret=${JWT_SECRET:librivault-super-secret-key-for-jwt-token-generation-minimum-32-chars-hs256-algorithm-secure-key-2024}
jwt.expiration=86400000

# AWS Configuration
aws.s3.bucket-name=${AWS_S3_BUCKET:librivault-book-storage}
aws.s3.region=${AWS_REGION:us-east-2}
aws.access-key=${AWS_ACCESS_KEY:}
aws.secret-key=${AWS_SECRET_KEY:}

# Stripe Configuration
stripe.publishable-key=${STRIPE_PUBLISHABLE_KEY:}
stripe.secret-key=${STRIPE_SECRET_KEY:}


# CORS Configuration
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}

# Subscription Configuration
app.subscription.free.book-limit=2
app.subscription.free.duration-days=30
app.subscription.free.daily-fine=10.00
app.subscription.premium.book-limit=200
app.subscription.premium.duration-days=300
app.subscription.premium.daily-fine=5.00
app.subscription.premium.price=599.00

# Credits Configuration
app.credits.max-limit=5
app.credits.early-return-multiplier=1

# Logging Configuration
logging.level.com.librivault=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/librivault.log

# Production Profile Configuration
spring.profiles.active=${SPRING_PROFILES_ACTIVE:development}